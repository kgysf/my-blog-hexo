<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="renderer" content="webkit"><meta name="theme-color" content="#FFFFFF"><title>输入Bytes转换为合适的最大单位</title><link rel="stylesheet" href="/css/normalize.css"><link rel="stylesheet" href="/css/heti.min.css"><link rel="stylesheet" href="/css/hexo-theme-adoubi.css"><link rel="icon" href="/images/favicon.ico"><meta name="generator" content="Hexo 6.0.0"><link rel="alternate" href="/atom.xml" title="Xianyu's Note" type="application/atom+xml">
</head><body><div class="header"><a class="email-link" href="/"><span>Home</span></a><span class="header-center"></span><a class="email-link" href="mailto:master@uynex.com?subject=[Comment] About: 输入Bytes转换为合适的最大单位&amp;body=请在此处书写您的邮件内容; 请勿修改标题, 否则您的邮件可能会被收信规则屏蔽%0d%0a%0d%0a--------------------%0d%0aTitle: 输入Bytes转换为合适的最大单位%0d%0aUrl: http://blog.uremy.world/2020/12/js-bytes-format-md/index.html%0d%0a"><span>Email</span></a><a class="subscribe-link" href="/about"><span>About</span></a></div><div class="content"><div class="post-item"></div><h2 class="post-title-wrapper"><p class="post-title">输入Bytes转换为合适的最大单位</p></h2><div class="post-date"><time datetime="2020-12-09T07:24:45.000Z">2020-12-09</time></div><div class="post-content"><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">formatBytes</span>(<span class="params">bytes</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(<span class="built_in">isNaN</span>(bytes)) <span class="keyword">return</span> <span class="string">&#x27;0 Bytes&#x27;</span>;</span><br><span class="line">  <span class="keyword">if</span>(bytes &lt;= <span class="number">0</span>) <span class="keyword">return</span> <span class="string">&#x27;0 Bytes&#x27;</span>;</span><br><span class="line">  <span class="keyword">const</span> k = <span class="number">1024</span>;  <span class="comment">// 如果需要1000进位，则改成1000</span></span><br><span class="line">  <span class="keyword">const</span> sizes = [<span class="string">&#x27;Bytes&#x27;</span>, <span class="string">&#x27;KB&#x27;</span>, <span class="string">&#x27;MB&#x27;</span>, <span class="string">&#x27;GB&#x27;</span>, <span class="string">&#x27;TB&#x27;</span>, <span class="string">&#x27;PB&#x27;</span>, <span class="string">&#x27;EB&#x27;</span>, <span class="string">&#x27;ZB&#x27;</span>, <span class="string">&#x27;YB&#x27;</span>];</span><br><span class="line">  <span class="keyword">const</span> i = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.log10(bytes) / <span class="built_in">Math</span>.log10(k));</span><br><span class="line">  <span class="keyword">return</span> (<span class="built_in">Math</span>.abs(bytes) / <span class="built_in">Math</span>.pow(k , i)).toFixed(<span class="number">2</span>) + <span class="string">&#x27; &#x27;</span> + sizes[i];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</div></div><div class="footer"><div class="footer-copyright">Theme By <a href="https://github.com/kgysf/hexo-theme-axianyu">Axianyu</a> , Powered By Hexo.</div></div></body></html>